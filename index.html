<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cindudraw.com</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600;700&family=Patrick+Hand&family=Permanent+Marker&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <style>
    /* PAGE LOAD OVERLAY */
    #loadOverlay {
      position:fixed; inset:0; z-index:99999;
      background:var(--paper);
      display:flex; flex-direction:column;
      align-items:center; justify-content:center; gap:18px;
      transition:opacity 0.65s ease, transform 0.65s ease;
    }
    #loadOverlay.hide { opacity:0; transform:scale(1.04); pointer-events:none; }
    .load-icon {
      font-size:4.5rem; color:var(--red);
      animation:loadBounce 0.65s ease infinite alternate;
    }
    .load-title {
      font-family:'Permanent Marker','Comic Sans MS',cursive;
      font-size:2rem; color:var(--ink);
    }
    .load-bar-wrap {
      width:220px; height:8px;
      background:var(--paper-3);
      border:2px solid var(--ink); border-radius:99px; overflow:hidden;
    }
    .load-bar {
      height:100%; width:0%; background:var(--red); border-radius:99px;
      animation:loadBarAnim 1.3s cubic-bezier(0.4,0,0.2,1) forwards;
    }
    @keyframes loadBounce { from{transform:translateY(0) rotate(-10deg);}to{transform:translateY(-16px) rotate(10deg);} }
    @keyframes loadBarAnim { from{width:0%;}to{width:100%;} }

    /* PAGINATION SLIDE ANIMATIONS */
    @keyframes slideInRight { from{opacity:0;transform:translateX(50px);}to{opacity:1;transform:none;} }
    @keyframes slideInLeft  { from{opacity:0;transform:translateX(-50px);}to{opacity:1;transform:none;} }
    #cardsContainer.slide-next .card { animation:slideInRight 0.38s cubic-bezier(0.16,1,0.3,1) both; }
    #cardsContainer.slide-prev .card { animation:slideInLeft  0.38s cubic-bezier(0.16,1,0.3,1) both; }
    #cardsContainer .card:nth-child(1){animation-delay:0.00s;}
    #cardsContainer .card:nth-child(2){animation-delay:0.05s;}
    #cardsContainer .card:nth-child(3){animation-delay:0.10s;}
    #cardsContainer .card:nth-child(4){animation-delay:0.15s;}
    #cardsContainer .card:nth-child(5){animation-delay:0.20s;}
    #cardsContainer .card:nth-child(6){animation-delay:0.25s;}
  </style>
</head>
<body>

  <!-- PAGE LOAD OVERLAY -->
  <div id="loadOverlay">
    <span class="material-icons-round load-icon">edit</span>
    <div class="load-title">Drawing With Cindo</div>
    <div class="load-bar-wrap"><div class="load-bar"></div></div>
  </div>

  <!-- FLOATING DOODLES -->
  <div class="doodle-layer" id="doodleLayer"></div>

  <!-- Theme Toggle -->
  <button class="theme-toggle" id="themeToggle">
    <span class="material-icons-round" id="themeIcon">dark_mode</span>
    <span id="themeLabel">Dark</span>
  </button>

  <!-- Donate Widget -->
  <div style="position:fixed;bottom:24px;right:24px;z-index:9998;display:flex;flex-direction:column;align-items:flex-end;gap:10px;">
    <div id="donatePanel" style="display:none;background:var(--paper-2);border:2px solid var(--ink);border-radius:4px 14px 4px 14px;padding:16px;box-shadow:6px 6px 0 var(--ink);text-align:center;width:168px;">
      <h3 style="font-family:'Caveat',cursive;font-size:1rem;margin-bottom:10px;padding-bottom:8px;border-bottom:2px solid var(--ink);">
        <span class="material-icons-round" style="font-size:1em;color:var(--pink)">favorite</span> Donate me :)
      </h3>
      <img src="QRscan/Donate.jpg" alt="Donate QR" style="width:100%;border-radius:6px;border:2px solid var(--ink);" />
    </div>
    <button id="donateBtn" style="background:var(--pink);border:2px solid var(--ink);border-radius:3px 10px 3px 10px;padding:8px 16px;color:white;font-family:'Caveat',cursive;font-size:1rem;font-weight:700;display:flex;align-items:center;gap:6px;box-shadow:3px 3px 0 var(--ink);transition:all 0.2s cubic-bezier(0.34,1.56,0.64,1);">
      <span class="material-icons-round" id="donateIcon" style="font-size:1em">favorite</span>Donate
    </button>
  </div>

  <div class="page-wrapper">
    <div class="container">

      <header class="reveal">
        <h1>Drawing With Cindo</h1>
        <p style="margin-top:14px;font-size:1.05rem;">
          <span class="material-icons-round" style="color:var(--red)">edit</span>
          My personal sketchbook — uploading drawings &amp; sharing them with the world!
        </p>
      </header>

      <nav class="reveal">
        <ul>
          <li><a class="btn-nav" href="#" id="aboutLink">
            <span class="material-icons-round">info</span>About
          </a></li>
          <li><a class="btn-nav" href="#" id="contactLink">
            <span class="material-icons-round">mail</span>Contact
          </a></li>
        </ul>
      </nav>

      <!-- GALLERY -->
      <div class="notebook-section reveal">
        <div class="section-tag"><span class="material-icons-round" style="font-size:1em">palette</span> Gallery</div>
        <div class="cards-wrapper">
          <div class="cards" id="cardsContainer"></div>
          <div class="pagination">
            <button id="prevPage" disabled>
              <span class="material-icons-round">arrow_back_ios</span>Prev
            </button>
            <span id="pageInfo">Page 1 / 3</span>
            <button id="nextPage">
              Next<span class="material-icons-round" style="margin-right:0;margin-left:4px">arrow_forward_ios</span>
            </button>
          </div>
        </div>
      </div>

      <!-- LIGHTBOX -->
      <div id="imgPreviewModal">
        <div class="lightbox-window">
          <div class="lightbox-titlebar">
            <div class="lightbox-dots">
              <span class="dot dot-red" id="lbDotClose"></span>
              <span class="dot dot-yellow"></span>
              <span class="dot dot-green"></span>
            </div>
            <span class="lightbox-title" id="lightboxTitle">Drawing</span>
            <button class="lightbox-close-btn" id="lbBtnClose">
              <span class="material-icons-round">close</span>
            </button>
          </div>
          <div class="lightbox-body">
            <button class="lb-arrow" id="lbPrev"><span class="material-icons-round">chevron_left</span></button>
            <div class="lightbox-img-wrap">
              <img id="previewImg" alt="preview" />
            </div>
            <button class="lb-arrow" id="lbNext"><span class="material-icons-round">chevron_right</span></button>
          </div>
          <div class="lightbox-footer"><span id="lightboxCounter">1 / 13</span></div>
        </div>
      </div>

      <!-- CONTACT MODAL -->
      <div id="contactModal" class="modal">
        <div class="modal-content contact-center">
          <span class="close" id="contactClose">&times;</span>
          <div class="contact-icon"><img src="images/contact-icon.png" alt="Contact" /></div>
          <h2 class="contact-title"><span class="material-icons-round" style="font-size:1em">markunread</span> Send me a mail!</h2>
          <a href="mailto:your@email.com" class="contact-mail-btn">
            <span class="material-icons-round">send</span> Send mail
          </a>
        </div>
      </div>

      <!-- ABOUT MODAL -->
      <div id="aboutModal" class="modal">
        <div class="modal-content">
          <span class="close" id="aboutClose">&times;</span>
          <h2 style="text-align:center;margin-bottom:16px"><span class="material-icons-round" style="font-size:1em">palette</span> About This Site</h2>
          <p>Welcome to <strong>Drawing With Cindo</strong> — a small showcase of my drawings and a simple place to share and receive feedback.</p>
          <p style="margin-top:12px;font-size:0.9rem;color:var(--ink-muted)"><span class="material-icons-round" style="font-size:1em">person</span> Author: Cindo</p>
        </div>
      </div>

      <!-- FISH TANK -->
      <div class="notebook-section reveal">
        <div class="section-tag" style="background:var(--blue)"><span class="material-icons-round" style="font-size:1em">water</span> Fish Tank</div>
        <section id="tank-section">
          <p style="font-size:0.9rem;opacity:0.7;margin-bottom:10px;font-style:italic">Hover to pause · Click to add a fish!</p>
          <div id="tank" class="tank">
            <div class="bubble" style="left:8%;animation-delay:0s"></div>
            <div class="bubble" style="left:28%;animation-delay:1.1s"></div>
            <div class="bubble" style="left:50%;animation-delay:0.5s"></div>
            <div class="bubble" style="left:72%;animation-delay:1.6s"></div>
          </div>
        </section>
      </div>

      <footer class="reveal">
        <p>
          <span class="material-icons-round" style="color:var(--red);font-size:1em">favorite</span>
          Thanks for visiting my sketchbook!
          <span class="material-icons-round" style="color:var(--blue);font-size:1em">star</span>
        </p>
      </footer>

    </div>
  </div>

<script>
// ══════════════════════════════════════════════
//  ALL JS IN ONE BLOCK — no external upload.js
//  needed for core features. toggleDonate and
//  all functions defined BEFORE any onclick.
// ══════════════════════════════════════════════

// ── SOUND ENGINE (Web Audio API) ──────────────
const SFX = (() => {
  let ctx = null;
  function getCtx() {
    if (!ctx) ctx = new (window.AudioContext || window.webkitAudioContext)();
    return ctx;
  }
  function play(type) {
    try {
      const c = getCtx();
      const o = c.createOscillator();
      const g = c.createGain();
      o.connect(g); g.connect(c.destination);
      const p = {
        click: { f1:500, f2:500, dur:0.06, wave:'square',   vol:0.07 },
        open:  { f1:380, f2:680, dur:0.13, wave:'sine',     vol:0.09 },
        close: { f1:600, f2:280, dur:0.11, wave:'sine',     vol:0.07 },
        nav:   { f1:330, f2:500, dur:0.09, wave:'triangle', vol:0.08 },
        page:  { f1:260, f2:420, dur:0.14, wave:'triangle', vol:0.09 },
      }[type] || { f1:500, f2:500, dur:0.06, wave:'square', vol:0.07 };
      o.type = p.wave;
      o.frequency.setValueAtTime(p.f1, c.currentTime);
      o.frequency.exponentialRampToValueAtTime(p.f2, c.currentTime + p.dur);
      g.gain.setValueAtTime(p.vol, c.currentTime);
      g.gain.exponentialRampToValueAtTime(0.001, c.currentTime + p.dur + 0.05);
      o.start(c.currentTime);
      o.stop(c.currentTime + p.dur + 0.07);
    } catch(e) {}
  }
  return { play };
})();

// ── GALLERY DATA ──────────────────────────────
const _gallery = [
  { src:'images/PIC14.png', title:'Drawing No. 14' },
  { src:'images/PIC13.png', title:'Drawing No. 13' },
  { src:'images/PIC12.png', title:'Drawing No. 12' },
  { src:'images/PIC11.png', title:'Drawing No. 11' },
  { src:'images/PIC10.png', title:'Drawing No. 10' },
  { src:'images/PIC8.png',  title:'Drawing No. 8'  },
  { src:'images/PIC7.png',  title:'Drawing No. 7'  },
  { src:'images/PIC6.png',  title:'Drawing No. 6'  },
  { src:'images/PIC5.png',  title:'Drawing No. 5'  },
  { src:'images/PIC4.png',  title:'Drawing No. 4'  },
  { src:'images/PIC3.jpg',  title:'Drawing No. 3'  },
  { src:'images/PIC2.jpg',  title:'Drawing No. 2'  },
  { src:'images/PIC1.jpg',  title:'Drawing No. 1'  },
];

// ── PAGE LOAD OVERLAY ─────────────────────────
window.addEventListener('load', () => {
  setTimeout(() => {
    const ov = document.getElementById('loadOverlay');
    ov.classList.add('hide');
    setTimeout(() => ov && ov.remove(), 700);
  }, 1400);
});

// ── FLOATING DOODLES ──────────────────────────
(function() {
  const layer = document.getElementById('doodleLayer');
  const icons = ['edit','star','favorite','palette','brush','auto_awesome','wb_sunny','mood','format_paint','colorize','grade','flare','gesture','draw','create','auto_fix_high'];
  for (let i = 0; i < 20; i++) {
    const el = document.createElement('span');
    el.className = 'material-icons-round doodle';
    el.textContent = icons[Math.floor(Math.random() * icons.length)];
    el.style.left = (Math.random() * 100) + '%';
    el.style.fontSize = (1.4 + Math.random() * 2) + 'rem';
    el.style.animationDuration = (14 + Math.random() * 22).toFixed(1) + 's';
    el.style.animationDelay = -(Math.random() * 20).toFixed(1) + 's';
    layer.appendChild(el);
  }
  setInterval(() => {
    const kids = layer.children;
    const pick = kids[Math.floor(Math.random() * kids.length)];
    if (pick) pick.textContent = icons[Math.floor(Math.random() * icons.length)];
  }, 2000);
})();

// ── SCROLL REVEAL ─────────────────────────────
(function() {
  const els = document.querySelectorAll('.reveal');
  els.forEach(el => el.classList.add('reveal-ready'));
  function show(el) { el.classList.add('visible'); }
  if ('IntersectionObserver' in window) {
    const io = new IntersectionObserver(entries => {
      entries.forEach(e => { if (e.isIntersecting) { show(e.target); io.unobserve(e.target); } });
    }, { threshold: 0.04 });
    els.forEach(el => io.observe(el));
  } else { els.forEach(show); }
  setTimeout(() => els.forEach(el => {
    if (el.getBoundingClientRect().top < window.innerHeight + 50) show(el);
  }), 60);
})();

// ── THEME TOGGLE ──────────────────────────────
(function() {
  const html  = document.documentElement;
  const icon  = document.getElementById('themeIcon');
  const label = document.getElementById('themeLabel');
  function apply(t) {
    html.setAttribute('data-theme', t);
    localStorage.setItem('cindo-theme', t);
    icon.textContent  = t === 'dark' ? 'light_mode' : 'dark_mode';
    label.textContent = t === 'dark' ? 'Light' : 'Dark';
  }
  apply(localStorage.getItem('cindo-theme') || 'light');
  document.getElementById('themeToggle').addEventListener('click', () => {
    SFX.play('click');
    apply(html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark');
  });
})();

// ── GALLERY PAGINATION ────────────────────────
(function() {
  const container = document.getElementById('cardsContainer');
  const prevBtn   = document.getElementById('prevPage');
  const nextBtn   = document.getElementById('nextPage');
  const pageInfo  = document.getElementById('pageInfo');
  const PER = 6;
  const totalPages = Math.ceil(_gallery.length / PER);
  let page = 1;

  function render(p, dir) {
    container.classList.remove('slide-next', 'slide-prev');
    void container.offsetWidth; // trigger reflow for animation restart
    if (dir) container.classList.add('slide-' + dir);

    container.innerHTML = '';
    const start = (p - 1) * PER;
    _gallery.slice(start, start + PER).forEach((item, i) => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `<img src="${item.src}" alt="${item.title}"><h4>${item.title}</h4>`;
      card.addEventListener('click', () => { SFX.play('open'); openLightbox(start + i); });
      container.appendChild(card);
    });

    page = p;
    pageInfo.textContent = 'Page ' + page + ' / ' + totalPages;
    prevBtn.disabled = page === 1;
    nextBtn.disabled = page === totalPages;
  }

  prevBtn.addEventListener('click', () => {
    if (page > 1) { SFX.play('page'); render(page - 1, 'prev'); }
  });
  nextBtn.addEventListener('click', () => {
    if (page < totalPages) { SFX.play('page'); render(page + 1, 'next'); }
  });

  render(1, null);
})();

// ── LIGHTBOX ──────────────────────────────────
let _lbIdx = 0;

function openLightbox(idx) {
  _lbIdx = idx;
  _lbRender();
  document.getElementById('imgPreviewModal').classList.add('open');
  document.addEventListener('keydown', _lbKey);
}
function closeLightbox() {
  SFX.play('close');
  document.getElementById('imgPreviewModal').classList.remove('open');
  document.removeEventListener('keydown', _lbKey);
}
function _lbNav(dir) {
  SFX.play('nav');
  _lbIdx = (_lbIdx + dir + _gallery.length) % _gallery.length;
  _lbRender();
}
function _lbRender() {
  const item = _gallery[_lbIdx];
  const img  = document.getElementById('previewImg');
  img.style.animation = 'none'; img.offsetHeight; img.style.animation = '';
  img.src = item.src;
  document.getElementById('lightboxTitle').textContent   = item.title;
  document.getElementById('lightboxCounter').textContent = (_lbIdx + 1) + ' / ' + _gallery.length;
}
function _lbKey(e) {
  if (e.key === 'ArrowLeft')  _lbNav(-1);
  if (e.key === 'ArrowRight') _lbNav(1);
  if (e.key === 'Escape')     closeLightbox();
}

document.getElementById('lbDotClose').addEventListener('click', closeLightbox);
document.getElementById('lbBtnClose').addEventListener('click', closeLightbox);
document.getElementById('lbPrev').addEventListener('click', () => _lbNav(-1));
document.getElementById('lbNext').addEventListener('click', () => _lbNav(1));
document.getElementById('imgPreviewModal').addEventListener('click', e => {
  if (e.target === document.getElementById('imgPreviewModal')) closeLightbox();
});

// ── MODALS ────────────────────────────────────
function openModal(id)  { SFX.play('open');  document.getElementById(id).style.display = 'block'; }
function closeModal(id) { SFX.play('close'); document.getElementById(id).style.display = 'none';  }

document.getElementById('aboutLink').addEventListener('click',   e => { e.preventDefault(); openModal('aboutModal'); });
document.getElementById('contactLink').addEventListener('click', e => { e.preventDefault(); openModal('contactModal'); });
document.getElementById('aboutClose').addEventListener('click',   () => closeModal('aboutModal'));
document.getElementById('contactClose').addEventListener('click', () => closeModal('contactModal'));

document.querySelectorAll('.modal').forEach(m => {
  m.addEventListener('click', e => { if (e.target === m) closeModal(m.id); });
});
document.addEventListener('keydown', e => {
  if (e.key !== 'Escape') return;
  document.querySelectorAll('.modal').forEach(m => { if (m.style.display === 'block') closeModal(m.id); });
  if (document.getElementById('imgPreviewModal').classList.contains('open')) closeLightbox();
});

// ── DONATE ────────────────────────────────────
function toggleDonate() {
  SFX.play('click');
  const panel = document.getElementById('donatePanel');
  const icon  = document.getElementById('donateIcon');
  const isOpen = panel.style.display === 'block';
  panel.style.display = isOpen ? 'none' : 'block';
  icon.textContent    = isOpen ? 'favorite' : 'close';
}
document.getElementById('donateBtn').addEventListener('click', toggleDonate);

// ── FISH TANK ─────────────────────────────────
(function() {
  const tank = document.getElementById('tank');
  if (!tank) return;
  const srcs = _gallery.map(g => g.src);

  function spawnFish(playSound) {
    if (playSound) SFX.play('click');
    const sizeRoll = Math.random();
    const f = document.createElement('div');
    f.className = sizeRoll < 0.12 ? 'fish fish--tiny' : sizeRoll < 0.42 ? 'fish fish--small' : 'fish';
    f.style.top = (6 + Math.random() * 78) + '%';
    const dur = (5 + Math.random() * 12).toFixed(2) + 's';
    f.style.animationDuration = dur;
    f.style.animationDelay = (Math.random() * 0.3).toFixed(2) + 's';
    const goRight = Math.random() > 0.5;
    f.style.left = goRight ? '-20%' : '120%';
    f.style.animationName = goRight ? 'swim-right' : 'swim-left';
    f.style.transform = goRight ? 'scaleX(1)' : 'scaleX(-1)';
    const img = document.createElement('img');
    img.src = srcs[Math.floor(Math.random() * srcs.length)];
    img.alt = 'fish'; img.loading = 'lazy';
    f.appendChild(img);
    tank.appendChild(f);
    setTimeout(() => f.parentNode && f.parentNode.removeChild(f), (parseFloat(dur) + 3) * 1000);
  }

  tank.addEventListener('click', () => spawnFish(true));

  (function autoSpawn() {
    spawnFish(false);
    setTimeout(autoSpawn, 1000 + Math.random() * 2500);
  })();
})();

</script>
</body>
</html>
